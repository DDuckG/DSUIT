## Classes 
1. `person` — Người đi bộ. Box phủ toàn bộ người (từ đầu đến chân nếu thấy). Nếu chỉ thấy phần người do che khuất >50%, vẫn annotate nếu phần còn lại đủ nhận biết.
2. `car` — Xe ô tô; bao gồm xe đậu, xe đang di chuyển.
3. `motorbike` — Xe máy / mô-tô.
4. `bicycle` — Xe đạp (không gộp với motorbike).
5. `pole` — Cột điện, cột báo hiệu, cột biển báo; box bao cả thân cột đủ để nhận diện.
6. `tree` — Cây lớn thân và tán (ghi `tree` nếu phần tán ảnh hưởng lối đi).
7. `stair` — Toàn bộ vùng cầu thang (nhiều bậc). Box nên phủ trọn khu vực cầu thang, không vẽ từng bậc con.
8. `step_up` — Bậc nhô cao (single step) gây vấp nếu cao > ~3 cm hoặc rõ rệt trên hình; box bao vùng step và khu vực kề cạnh.
9. `step_down` — Bậc/lỗ xuống (drop) — area lõm xuống sâu gây ngã (annotate region).
10. `hole` / `pothole` — Hố/ổ gà nhỏ nhưng sâu; annotate bounding box vùng hố.
11. `uneven_surface` — Mặt đường lồi lõm, nhiều biến dạng trên vùng rộng; annotate entire region bị uneven.
12. `ramp` — Dốc (ramp) — bộ phận dẫn lên xuống, khác stair.
13. `handrail` / `railing` — Lan can, tay vịn.
14. `curb` — Lề vỉa hè (edge) — annotate khu vực cạnh giữa vỉa hè và đường.

## Attributes
- `traversable` (0/1): annotator đánh dấu 0 nếu vật/trench không thể đi qua bình thường (chặn đường), 1 nếu có thể bước qua/né được.
- `distance_bucket`: one of `near`, `mid`, `far`. Dùng kích thước box (rel to image) để estimate if unsure.
- `severity`: integer 0 (minor), 1 (moderate), 2 (severe) — dựa trên nguy cơ cho người khiếm thị.
- `source`: `human` or `auto` (nếu generated by auto-label & corrected/unchecked).

## Rules
- Bounding box: vẽ tight bounding box (không quá dư thừa) nhưng bao đủ phần vật/region để model học shape/texture. Box normalized sẽ được auto-convert.
- Partial occlusion: nếu object >30% visible, label; nếu <30% skip.
- Adjacent objects: nếu nhiều objects khác loại chồng lên nhau, label từng object riêng nếu có thể nhận dạng rõ.
- Small objects: ignore objects with width or height < 6 px on final train size (document small objects separately); prefer capture at higher resolution training.
- Stair vs step: `stair` cho vùng nhiều bậc; `step_up`/`step_down` cho single or sudden height delta.
- Uneven surface vs hole: `hole` cho vùng nhỏ lõm; `uneven_surface` cho vùng rộng lồi lõm. Choose one that best describes the hazard.
- Curbs: annotate the top edge region to allow system detect edge between road & sidewalk.

## Annotation workflow tips
1. Annotate at original resolution (1280×720) to preserve detail. Use LabelImg in YOLO mode.  
2. For each annotated image, update attributes CSV with one line per box:
   `filename, x_min, y_min, x_max, y_max, class, traversable, severity, distance_bucket, source`
3. If unsure, use `traversable=0` conservative choice (safer).

## Examples & edge cases
- If a small rock present on sidewalk that can be easily avoided: class=`small_obstacle` (optional), traversable=1, severity=0.
- If stairs are partially out of frame but >50% visible and clearly stairs → label as `stair` and mark severity appropriately.
- Do not use `vertical flip` augmentation during training for stair/step classes (it makes label semantics invalid).

## Quality control
- Each annotator should run check_labels.py to ensure normalized coords are within [0,1] and box sizes > minimum.  
- Use reviewer to sample 5% of annotated images for consistency checks.
- Keep `label_guidelines.md` updated with examples (screenshots) when ambiguous cases arise.
